01 ; PGE TEST IN ASSEMBLER
02 ;
03 ; CODED BY>JOHAN TIBBELIN
04 ; DATE: 2020-05-25
05 ; LAST CHANGED: 2020-05-28
06 ;
08       .OPT NO LIST
09       .OPT OBJ
10       *=  $4000
20       LDA #$00
30       STA 560
40       LDA #$58
50       STA 561
59 ; SET VBI
60       LDX #VBI/255
70       LDY #VBI&255
80       LDA #7
90       JSR $E45C
99 ; SET DLI ADRESS
0100     LDA #DLI&255
0110     STA $0200
0120     LDA #DLI/255
0130     STA $0201
0139 ; ENABLE DLI
0140     LDA #$C0
0150     STA $D40E
0157 ;
0158 ; MAIN LOOP
0159 ;
0160 MAIN_LOOP
0480 STAY JMP STAY
0490 COLI .BYTE $00
0495 COL .BYTE $20,$50,$20,$10,$17
0496     .BYTE $00,$00,$00,$00,$00,$00
0497 VBIC .BYTE $00
0498 FRAMEC .BYTE $00
0500 DLI
0510     PHA 
0520     TXA 
0530     PHA 
0540     LDX COLI
0550     LDA COL,X
0570     STA $02C6
0590     PLA 
0591     TAX 
0592     PLA 
0593     RTI 
0699 ;
0700 ; VBI
0701 ;
0710 VBI
0720     LDA #0
0730     STA $02C6
0740     LDA #$00
0750     STA COLI
0760     LDA VBIC
0770     ADC #1
0775     CLC 
0780     STA VBIC
0790     CMP #50
0800     BNE N50
0850 N50
0860     JMP $E462
1000     *=  $5800
1005 ;    DISPLAY LIST
1010     .BYTE $F0
1015 ; 1 ROW OF MODE 2 AND
1016 ; 1 ROW OF MODE 7
1020     .BYTE $42,$00,$60
1030     .BYTE $47,$00,$61
1035 ; ROW 1 OF 16 LINES
1040     .BYTE $4E,$00,$62
1050     .BYTE $0E,$0E,$0E
1060     .BYTE $0E,$0E,$0E,$0E
1070     .BYTE $0E,$0E,$0E,$0E
1080     .BYTE $0E,$0E,$0E,$0E
1095 ; ROW 2 OF 16 LINES
1100     .BYTE $4E,$00,$65
1110     .BYTE $0E,$0E,$0E
1120     .BYTE $0E,$0E,$0E,$0E
1130     .BYTE $0E,$0E,$0E,$0E
1140     .BYTE $0E,$0E,$0E,$0E
1195 ; ROW 3 OF 16 LINES
1200     .BYTE $4E,$00,$68
1210     .BYTE $0E,$0E,$0E
1220     .BYTE $0E,$0E,$0E,$0E
1230     .BYTE $0E,$0E,$0E,$0E
1240     .BYTE $0E,$0E,$0E,$0E
1295 ; ROW 4 OF 16 LINES
1300     .BYTE $4E,$00,$71
1310     .BYTE $0E,$0E,$0E
1320     .BYTE $0E,$0E,$0E,$0E
1330     .BYTE $0E,$0E,$0E,$0E
1340     .BYTE $0E,$0E,$0E,$0E
1395 ; ROW 5 OF 16 LINES
1400     .BYTE $4E,$00,$74
1410     .BYTE $0E,$0E,$0E
1420     .BYTE $0E,$0E,$0E,$0E
1430     .BYTE $0E,$0E,$0E,$0E
1440     .BYTE $0E,$0E,$0E,$0E
1495 ; ROW 6 OF 16 LINES
1500     .BYTE $4E,$00,$77
1510     .BYTE $0E,$0E,$0E
1520     .BYTE $0E,$0E,$0E,$0E
1530     .BYTE $0E,$0E,$0E,$0E
1540     .BYTE $0E,$0E,$0E,$0E
1550     .BYTE $70,$70,$70,$70
1560     .BYTE $70,$70,$70,$70
1570     .BYTE $70,$70,$70,$70
1580     .BYTE $70,$30
1600     .BYTE 41,$00,$58
2000 ; FIRST ROWS OF GFX
2010     *=  $6000
2020     .BYTE $00,$00,$00,$00,$00
2021     .BYTE $00,$00,$00,$00,$00
2022     .BYTE $00,$00,$00,$00,$00
2023     .BYTE $00,$00,$00,$00,$00
2024     .BYTE $00,$00,$00,$00,$00
2025     .BYTE $00,$00,$00,$00,$00
2026     .BYTE "fps",$00,$00,$00,$00,$00
2030     *=  $6100
2040     .BYTE $30,"ixel",$27,"ame",$25,"ngine",$00
2045     .BYTE $12,$0E,$10
2050     *=  $6200
2060     .BYTE $AA,$AA,$AA,$AA
2070     .BYTE $BB,$BB,$BB,$BB
2080     *=  $7700
2090     .BYTE $AA,$AA,$AA,$AA
